{
  "openapi": "3.0.0",
  "info": {
    "title": "SEVEN API By Team2",
    "description": "SEVEN API 명세서 Swagger 문서화",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://nb4-seven-team2-backend-fgxe.onrender.com"
    }
  ],
  "paths": {
    "/groups/{groupId}/records": {
      "get": {
        "tags": ["Records"],
        "summary": "그룹 운동 기록 목록 조회",
        "description": "",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "order",
            "in": "query",
            "required": false,
            "enum": ["asc", "desc"],
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "orderBy",
            "in": "query",
            "required": false,
            "enum": ["time", "createdAt"],
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "example": {
                  "data": [
                    {
                      "id": 0,
                      "exerciseType": "run",
                      "description": "러닝 5km",
                      "time": 30,
                      "distance": 5,
                      "photos": ["run_1.jpg"],
                      "author": {
                        "id": 1,
                        "nickname": "홍길동"
                      }
                    }
                  ],
                  "total": 1
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "path": {
                      "type": "string",
                      "example": "groupId"
                    },
                    "message": {
                      "type": "string",
                      "example": "groupId must be integer"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "post": {
        "tags": ["Records"],
        "summary": "그룹 운동 기록 생성",
        "description": "",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "그룹 ID",
            "example": 1
          }
        ],
        "responses": {
          "201": {
            "description": "생성된 그룹 운동 기록 객체",
            "content": {
              "application/json": {
                "example": {
                  "id": 0,
                  "exerciseType": "run",
                  "description": {},
                  "time": 0,
                  "distance": 0,
                  "photos": ["string"],
                  "author": {
                    "id": 0,
                    "nickname": "string"
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "application/json": {
                "example": {
                  "path": "groupId",
                  "message": "groupId must be integer"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {
                "exerciseType": "run",
                "description": "string",
                "time": 0,
                "distance": 0,
                "photos": ["string"],
                "authorNickname": "string",
                "authorPassword": "string"
              }
            }
          }
        }
      }
    },
    "/groups/{groupId}/rank": {
      "get": {
        "tags": ["Records"],
        "summary": "그룹 랭킹 조회",
        "description": "",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "그룹 ID",
            "example": 1
          },
          {
            "name": "duration",
            "in": "query",
            "description": "랭킹 조회 기준 기간 (monthly: 월간 / weekly: 주간)",
            "required": true,
            "example": "monthly",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "그룹 랭킹 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "participantId": {
                        "type": "number",
                        "example": 0
                      },
                      "nickname": {
                        "type": "string",
                        "example": "string"
                      },
                      "recordCount": {
                        "type": "number",
                        "example": 0
                      },
                      "recordTime": {
                        "type": "number",
                        "example": 0
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "participantId": {
                        "type": "number",
                        "example": 0
                      },
                      "nickname": {
                        "type": "string",
                        "example": "string"
                      },
                      "recordCount": {
                        "type": "number",
                        "example": 0
                      },
                      "recordTime": {
                        "type": "number",
                        "example": 0
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "path": {
                      "type": "string",
                      "example": "groupId"
                    },
                    "message": {
                      "type": "string",
                      "example": "groupId must be integer"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "path": {
                      "type": "string",
                      "example": "groupId"
                    },
                    "message": {
                      "type": "string",
                      "example": "groupId must be integer"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/groups/": {
      "get": {
        "tags": ["Groups"],
        "summary": "그룹 목록 조회",
        "description": "",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "페이지 번호 (기본값: 1)",
            "required": false,
            "example": 1,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "페이지당 항목 수 (기본값: 10)",
            "required": false,
            "example": 10,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "order",
            "in": "query",
            "description": "정렬 방향 (asc: 오름차순, desc: 내림차순, 기본값: desc)",
            "required": false,
            "enum": ["asc", "desc"],
            "example": "desc",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "orderBy",
            "in": "query",
            "description": "정렬 기준 (likeCount: 추천 수, participantCount: 참여자 수, createdAt: 생성일, 기본값: createdAt)",
            "required": false,
            "enum": ["likeCount", "participantCount", "createdAt"],
            "example": "createdAt",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "그룹명으로 검색",
            "required": false,
            "example": "헬스 동호회",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "그룹 목록 조회 성공",
            "content": {
              "application/json": {
                "example": {
                  "data": [
                    {
                      "id": 0,
                      "name": "string",
                      "description": "string",
                      "photoUrl": "string",
                      "goalRep": 0,
                      "discordWebhookUrl": "string",
                      "discordInviteUrl": "string",
                      "likeCount": 0,
                      "recordCount": 0,
                      "tags": ["string"],
                      "owner": {
                        "id": 0,
                        "nickname": "string",
                        "createdAt": 0,
                        "updatedAt": 0
                      },
                      "participants": [
                        {
                          "id": 0,
                          "nickname": "string",
                          "createdAt": 0,
                          "updatedAt": 0
                        }
                      ],
                      "createdAt": 0,
                      "updatedAt": 0,
                      "badges": ["string"]
                    }
                  ],
                  "total": 0
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (orderBy 값 오류)",
            "content": {
              "application/json": {
                "example": {
                  "path": "orderBy",
                  "message": "The orderBy parameter must be one of the following values: ['likeCount', 'participantCount', 'createdAt']."
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "post": {
        "tags": ["Groups"],
        "summary": "그룹 생성",
        "description": "",
        "responses": {
          "201": {
            "description": "그룹 생성 성공",
            "content": {
              "application/json": {
                "example": {
                  "id": 0,
                  "name": "string",
                  "description": "string",
                  "photoUrl": "string",
                  "goalRep": 0,
                  "discordWebhookUrl": "string",
                  "discordInviteUrl": "string",
                  "likeCount": 0,
                  "tags": ["string"],
                  "owner": {
                    "id": 0,
                    "nickname": "string",
                    "createdAt": 0,
                    "updatedAt": 0
                  },
                  "participants": [
                    {
                      "id": 0,
                      "nickname": "string",
                      "createdAt": 0,
                      "updatedAt": 0
                    }
                  ],
                  "createdAt": 0,
                  "updatedAt": 0,
                  "badges": ["string"]
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (goalRep 타입 오류)",
            "content": {
              "application/json": {
                "example": {
                  "path": "goalRep",
                  "message": "goalRep must be an integer"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {
                "name": "string",
                "description": "string",
                "photoUrl": "string",
                "goalRep": 0,
                "discordWebhookUrl": "string",
                "discordInviteUrl": "string",
                "tags": ["string"],
                "ownerNickname": "string",
                "ownerPassword": "string"
              }
            }
          }
        }
      }
    },
    "/groups/{groupId}": {
      "get": {
        "tags": ["Groups"],
        "summary": "그룹 상세 조회",
        "description": "",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "그룹 아이디",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "그룹 상세 조회 성공",
            "content": {
              "application/json": {
                "example": {
                  "id": 0,
                  "name": "string",
                  "description": "string",
                  "photoUrl": "string",
                  "goalRep": 0,
                  "discordWebhookUrl": "string",
                  "discordInviteUrl": "string",
                  "likeCount": 0,
                  "tags": ["string"],
                  "owner": {
                    "id": 0,
                    "nickname": "string",
                    "createdAt": 0,
                    "updatedAt": 0
                  },
                  "participants": [
                    {
                      "id": 0,
                      "nickname": "string",
                      "createdAt": 0,
                      "updatedAt": 0
                    }
                  ],
                  "createdAt": 0,
                  "updatedAt": 0,
                  "badges": ["string"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "404": {
            "description": "그룹을 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "message": "Group not found"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "delete": {
        "tags": ["Groups"],
        "summary": "그룹 삭제",
        "description": "",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "삭제할 그룹 아이디",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "그룹 삭제 성공",
            "content": {
              "application/json": {
                "example": {
                  "ownerPassword": "string"
                }
              }
            }
          },
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "인증 실패 (비밀번호 불일치)",
            "content": {
              "application/json": {
                "example": {
                  "path": "password",
                  "message": "Wrong password"
                }
              }
            }
          },
          "404": {
            "description": "그룹을 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "message": "Group not found"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {
                "ownerPassword": "string"
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Groups"],
        "summary": "그룹 수정",
        "description": "",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "수정할 그룹의 ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "그룹 수정 성공",
            "content": {
              "application/json": {
                "example": {
                  "id": 0,
                  "name": "string",
                  "description": "string",
                  "photoUrl": "string",
                  "goalRep": 0,
                  "discordWebhookUrl": "string",
                  "discordInviteUrl": "string",
                  "likeCount": 0,
                  "tags": ["string"],
                  "owner": {
                    "id": 0,
                    "nickname": "string",
                    "createdAt": 0,
                    "updatedAt": 0
                  },
                  "participants": [
                    {
                      "id": 0,
                      "nickname": "string",
                      "createdAt": 0,
                      "updatedAt": 0
                    }
                  ],
                  "createdAt": 0,
                  "updatedAt": 0,
                  "badges": ["string"]
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (goalRep 타입 오류)",
            "content": {
              "application/json": {
                "example": {
                  "path": "goalRep",
                  "message": "goalRep must be an integer"
                }
              }
            }
          },
          "401": {
            "description": "인증 실패 (비밀번호 불일치)",
            "content": {
              "application/json": {
                "example": {
                  "path": "password",
                  "message": "Wrong password"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {
                "name": "string",
                "description": "string",
                "photoUrl": "string",
                "goalRep": 0,
                "discordWebhookUrl": "string",
                "discordInviteUrl": "string",
                "tags": ["string"],
                "ownerNickname": "string",
                "ownerPassword": "string"
              }
            }
          }
        }
      }
    },
    "/groups/{groupId}/participants": {
      "post": {
        "tags": ["Participants"],
        "summary": "그룹 참여",
        "description": "",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "그룹 ID",
            "example": 1
          }
        ],
        "responses": {
          "201": {
            "description": "그룹 참여 성공 (그룹 객체 반환)",
            "content": {
              "application/json": {
                "example": {
                  "id": 0,
                  "name": "string",
                  "description": "string",
                  "photoUrl": "string",
                  "goalRep": 0,
                  "discordWebhookUrl": "string",
                  "discordInviteUrl": "string",
                  "likeCount": 0,
                  "tags": ["string"],
                  "owner": {
                    "id": 0,
                    "nickname": "string",
                    "createdAt": 0,
                    "updatedAt": 0
                  },
                  "participants": [
                    {
                      "id": 0,
                      "nickname": "string",
                      "createdAt": 0,
                      "updatedAt": 0
                    }
                  ],
                  "createdAt": 0,
                  "updatedAt": 0,
                  "badges": ["string"]
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "application/json": {
                "example": {
                  "path": "nickname",
                  "message": "nickname is required"
                }
              }
            }
          },
          "409": {
            "description": "Conflict"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {
                "nickname": "string",
                "password": "string"
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Participants"],
        "summary": "그룹 참여 취소",
        "description": "",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "그룹 ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "204": {
            "description": "그룹 참여 취소 성공 (내용 없음)",
            "content": {
              "application/json": {
                "example": {}
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "application/json": {
                "example": {
                  "path": "nickname",
                  "message": "nickname is required"
                }
              }
            }
          },
          "401": {
            "description": "인증 실패 (비밀번호 불일치)",
            "content": {
              "application/json": {
                "example": {
                  "path": "password",
                  "message": "Wrong password"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {
                "nickname": "string",
                "password": "string"
              }
            }
          }
        }
      }
    },
    "/groups/{groupId}/likes": {
      "post": {
        "tags": ["Groups"],
        "summary": "그룹 추천(좋아요)",
        "description": "",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "그룹 ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "delete": {
        "tags": ["Groups"],
        "summary": "그룹 추천(좋아요) 취소",
        "description": "",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "그룹 ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/images/": {
      "post": {
        "tags": ["Images"],
        "summary": "이미지 파일 업로드",
        "description": "",
        "parameters": [
          {
            "name": "files",
            "in": "formData",
            "description": "업로드할 이미지 파일 (여러 개 가능)",
            "required": true,
            "items": {
              "type": "string",
              "format": "binary"
            },
            "schema": {
              "type": "array"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "업로드 성공",
            "content": {
              "application/json": {
                "example": {
                  "urls": ["string"]
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (이미지 파일 아님)",
            "content": {
              "application/json": {
                "example": {
                  "message": "File should be an image file"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "in": "header",
        "bearerFormat": "JWT"
      }
    }
  }
}
